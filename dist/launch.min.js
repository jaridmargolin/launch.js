!function(a,b){"function"==typeof define&&define.amd?define([],function(){return a.returnExportsGlobal=b()}):"object"==typeof exports?module.exports=b():a.launch=b()}(this,function(){var a,b;return a=function(a){var b=function(a,b){return 1===arguments.length&&(b=a,a=document),"loading"===a.readyState?a.addEventListener("DOMContentLoaded",b):b()};return b}({}),b=function(b){var c=a;return window.launchJS={intervals:{},instances:{},handlers:{},pending:{},getScriptId:function(a){return"launchjs-script-"+a},getScriptTag:function(a,b){var c=window.launchJS.getScriptId(b);return a.getElementById(c)},inject:function(a,b,d){var e=window.launchJS.getScriptTag(a,d);e||(e=a.createElement("script"),e.id=window.launchJS.getScriptId(d),e.type="text/javascript",e.text=b,window.launchJS.pending[d]=!0,c(a,function(){delete window.launchJS.pending[d],a.body.appendChild(e)}))},injectParentInterval:function(a,b){var c="(function () {";b?c+="var child = window.launchJS.instances['"+a+"'];":(c+="var child = window.open('', '"+a+"');",c+="window.launchJS.instances['"+a+"'] = child;"),c+="window.launchJS.intervals['"+a+"'] = window.setInterval(function () {",c+="  if (!child.launchJSChild && !window.launchJS.pending['"+a+"']) {",c+="    window.launchJS.injectChildInterval(child, '"+a+"');",c+="  }",c+="  if (child.closed) {",c+="    window.launchJS.closeChild('"+a+"');",c+="  }",c+="}, 10);",c+="})();",window.launchJS.inject(window.document,c,a)},injectChildInterval:function(a,b){var c="(function () {";c+="var parent = window.opener;",c+="window.launchJSChild = window.setInterval(function () {",c+="  if (parent.launchJS && !parent.launchJS.intervals[window.name]) {",c+="    parent.launchJS.injectParentInterval(window.name);",c+="  }",c+="}, 10);",c+="})();",window.launchJS.inject(a.document,c,b)},closeChild:function(a){var b=window.launchJS.getScriptTag(window.document,a);window.document.body.removeChild(b),window.clearInterval(window.launchJS.intervals[a]);var c=window.launchJS.handlers[a];c&&c(),delete window.launchJS.handlers[a],delete window.launchJS.instances[a],delete window.launchJS.intervals[a]}},{open:function(a,b,c){var d=window.open.apply(window,arguments);return window.launchJS.instances[b]=d,window.launchJS.injectParentInterval(b,!0),d},get:function(a,b){var c=window.launchJS.instances[a],d=c?0:1e3;setTimeout(function(){return c=window.launchJS.instances[a],c?b(null,c):b(new Error("No session found"))},d)},addCloseHandler:function(a,b){window.launchJS.handlers[a]=b}}}({})});